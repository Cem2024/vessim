# .readthedocs.yaml
# Read the Docs configuration file
# See https://docs.readthedocs.io/en/stable/config-file/v2.html for details

version: 2

build:
  os: "ubuntu-22.04"
  tools: 
    python: "3.8"
  commands:
    - pip install poetry sphinx sphinx-copybutton furo
    - poetry config virtualenvs.create false
    - poetry install --extras "sil analysis" 
    - mkdir --parents $READTHEDOCS_OUTPUT/html/
    - sphinx-apidoc -f -o docs/docstrings vessim
    - cd docs
    - make html
    - cd ..
    - cp --recursive docs/_build/* $READTHEDOCS_OUTPUT/html/